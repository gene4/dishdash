datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

model Ingredient {
  id        String      @id @default(uuid())
  name      String
  userId    String
  unit      String
  price     Float
  createdAt DateTime @default(now())
  supplier    String
  category    String
  recipes     RecipeIngredient[]
  updatedAt DateTime @updatedAt

}

model Recipe {
  id        String      @id @default(uuid()) 
  name      String
  userId    String
  unit      String
  yield     Float
  ingredients     RecipeIngredient[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model RecipeIngredient {
  id        String      @id @default(uuid()) 
  amount    Float

  recipe    Recipe   @relation(fields: [recipeId], references: [id])
  recipeId   String

  ingredient Ingredient @relation(fields: [ingredientId], references: [id])
  ingredientId String

@@index([recipeId])
@@index([ingredientId])
}